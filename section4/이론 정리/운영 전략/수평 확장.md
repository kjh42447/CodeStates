# 수평 확장

## 로드 밸런서
서버의 부하를 낮추기 위해 여러 개의 서버로 분리하는 경우, 클라이언트의 요청을 여러 서버에서 나누어 처리할 수 있도록 해주는 프로그램

### 로드 밸런서의 종류
- L2 : 데이터 전송 계층에서 Mac 주소를 바탕으로 로드 밸런싱
- L3 : 네트워크 계층에서 IP 주소를 바탕으로 로드 밸런싱
- L4 : 전송 계층에서 IP주소와 Port를 바탕으로 로드 밸런싱
- L7 : 응용 계층에서 클라이언트의 요청을 바탕으로 로드 밸런싱

## 오토 스케일링
클라이언트의 요청이 많아지면 새 리소스를 자동으로 추가해주고 요청이 줄어들면 리소스를 감소시켜 적절한 분산 환경을 제공해주는 서비스

### 오토 스케일링 장점
- 동적 스케일링 : 사용자의 요구 수준에 따라 리소스를 동적으로 스케일링
- 로드 밸런싱 : 로드 밸런서와 함께 사용하면 다수의 리소스에 워크로드를 효과적으로 분배 가능
- 타겟 트래킹 : 특정 타겟만을 오토 스케일링 가능하며, 사용자가 설정한 타겟에 맞춰 리소스를 조정
- 헬스 체크 및 서버 플릿 관리 : 리소스의 헬스 체크 상태를 모니터링 하다가 특정 인스턴스의 이상이 감지되면 다른 인스턴스로 교체  

서버 플릿 : 다수의 EC2 서버에서 어플리케이션을 호스팅 하는 경우, AWS에서는 해당 서버 집합을 서버 플릿이라고 부른다.

### 스케일링 유형
- 인스턴스 레벨 유지 : 항상 실행 상태를 유지하고자 하는 인스턴스의 수 지정 가능
- 수동 스케일링 : 사용자가 직접 콘솔이나 API, CLI 등을 통해서 수동으로 인스턴스를 추가하거나 삭제해야한다
- 일정별 스케일링 : 시간대 별로 트래픽의 변동이 크고 해당 사실을 파악하고 있을 경우 그에 맞게 스케일링 진행
- 동적 스케일링 : CloudWatch가 모니터링 하는 지표를 추적하여 경보 상태일 때 수행할 스케일링 규칙 설정. 항상 스케일 업과 스케일 다운 두 가지의 정책 모두 작성해야 한다.